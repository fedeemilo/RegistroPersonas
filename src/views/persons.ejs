 <%- include ('partials/_header')  %>

    <div class="container mt-4 formulario-personas">

        <div class="row">
            
            <div class="col-12">
                <div id="card-persons-form" class="card text-white bg-dark mb-3 rounded">
                    <h2 class="text-center text-white mb-n5 mt-2 ml-3">Datos de Personas</h2>
                    <div class="card-body">
                        <form action="/add" method="POST" class="mt-5">
                            <div class="row ">
                                <div class="col">
                                    <div class="form-group has-success">
                                        <label for="name">Nombre</label>
                                        <input type="text" class="form-control input-name" name="name">
                                    </div>
                                    <div class="form-group">
                                        <label for="lastname">Apellido</label>
                                        <input type="text" class="form-control input-lastname" name="lastname">
                                    </div>
                                    <div class="form-group">
                                        <label for="dni">Nro. Documento</label>
                                        <input type="number" class="form-control input-dni" name="dni" maxlength="8">
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-group">
                                        <label for="address">Dirección/Domicilio</label>
                                        <input type="text" class="form-control input-address" name="address">
                                    </div>
                                    <div class="form-group">
                                        <label for="phone">Teléfono/Celular</label>
                                        <input type="text" class="form-control input-phone" name="phone">
                                    </div>
                                    <div class="form-group">
                                        <label for="email">Email</label>
                                        <input type="email" class="form-control input-email" name="email" aria-describedby="emailHelp">
                                    </div>
                                </div>
                            </div>
                             <div class="form-group">
                                <label for="text">Texto</label>
                                <textarea class="form-control input-text" name="text" rows="5"></textarea>
                            </div>
                            <button type="submit" class="btn btn-secondary">Registrar Persona</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="row">
                <button type="button" id="show-table" class="btn btn-outline-primary ml-5">
                    Ocultar Tabla de Personas
                </button>
                 <button type="button" id="show-form" class="btn btn-outline-primary ml-5">
                    Ocultar Formulario de Registro
                </button>
            </div>
            <div class="col-12 text-center mb-3 mt-3">
                <table id="table-persons" class="table-sm table-bordered table-hover table-dark mx-auto">
                    <thead>
                    <tr>
                        <th>N°</th>
                        <th>Nombre</th>
                        <th>Apellido</th>
                        <th>DNI</th>
                        <th>Domicilio</th>
                        <th>Teléfono/Celular</th>
                        <th>Email</th>
                        <th>Texto</th>
                        <th>Acciones</th>
                    </tr>
                    </thead>
                    <tbody>
                        <% if (data) { %>
                            <% for (let i = 0; i < data.length; i++) { %>
                                <tr>
                                    <td><%= (i + 1) %></td>
                                    <td><%= data[i].name %></td>
                                    <td><%= data[i].lastname %></td>
                                    <td><%= data[i].dni %></td>
                                    <td><%= data[i].address %></td>
                                    <td><%= data[i].phone %></td>
                                    <td><%= data[i].email %></td>
                                    <td><%= data[i].text.substring(0,10) %>...</td>   
                                    <td>
                                        <a class="action" href="/edit/<%= data[i].id %>">
                                            <ion-icon  size="small" class="edit" name="pencil-outline"></ion-icon>
                                        </a>
                                        <a class="action" href="/delete/<%= data[i].id %>">
                                            <ion-icon size="small"  class="delete ml-4" name="trash-outline"></ion-icon>
                                        </a>
                                    </td>                                 
                                </tr>
                            <% } %>
                        <% } %>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

<%- include ('partials/_footer')  %>
